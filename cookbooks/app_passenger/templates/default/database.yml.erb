#
# DB Config file, version 1.
#
# Managed by RightScale
# DO NOT EDIT BY HAND
#

<%  case node[:app_passenger][:project][:db][:adapter]
    when "mysql" %>
<%= node[:app_passenger][:project][:environment] %>:
  adapter: <%= node[:app_passenger][:project][:db][:adapter] %>
  database: <%= node[:app_passenger][:project][:db][:schema_name] %>
  username: <%= node[:db][:application][:user] %>
  password: <%= node[:db][:application][:password] %>
  host: <%= node[:db][:fqdn] %>
  encoding: utf8
  #socket: /var/lib/mysql/mysql.sock
<%  when "sqlite3","sqlite"%>
# SQLite version 3.x
<%= node[:app_passenger][:project][:environment] %>:
  adapter: <%= node[:app_passenger][:project][:db][:adapter] %>
  database: <%= node[:app_passenger][:project][:db][:schema_name] %>
  pool: 5
  timeout: 5000
<%  when "postgresql"%>
<%= node[:app_passenger][:project][:environment] %>:
  adapter: <%= node[:app_passenger][:project][:db][:adapter] %>
  database: <%= node[:app_passenger][:project][:db][:schema_name] %>
  username: <%= node[:db][:application][:user] %>
  password: <%= node[:db][:application][:password] %>
<%  else%>
<%= node[:app_passenger][:project][:environment] %>:
  adapter: <%= node[:app_passenger][:project][:db][:adapter] %>
  database: <%= node[:app_passenger][:project][:db][:schema_name] %>

<%end%>